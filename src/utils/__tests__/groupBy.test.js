import groupBy from '../groupBy';

describe('TEST groupBy function', () => {
	const testData = [
		{
			id: 5465,
			area: 141.2919881,
			room: null,
			object_finish_type: null,
			object_type: null,
			created_by: null,
			updated_by: null,
			created_at: '2020-11-30T20:44:33.302Z',
			updated_at: '2020-11-30T22:18:16.696Z',
			volume: 39.56175668,
			running_meter: null,
			vertical: 'H',
			revit_id: 32808541,
			bim_model: null,
			project: {
				id: 1,
				name: 'Brama Oławska',
				webcon_code: null,
				model_urn: null,
				created_by: 1,
				updated_by: 1,
				created_at: '2020-11-29T09:28:08.251Z',
				updated_at: '2020-12-01T07:25:22.214Z',
				start_day: 2716,
			},
			term: null,
			VCF_Realisation: 'Cast in situ slab',
			rotation_day: {
				id: 107,
				date_id: 2726,
				project: 1,
				rotation_day: 11,
				created_by: null,
				updated_by: null,
				created_at: '2020-11-29T12:03:40.523Z',
				updated_at: '2020-12-01T07:37:44.801Z',
			},
			level: {
				id: 1,
				name: 'B03',
				created_by: 1,
				updated_by: 1,
				created_at: '2020-11-29T09:28:27.663Z',
				updated_at: '2020-12-01T07:25:21.510Z',
				project: 1,
			},
			crane: {
				id: 1,
				name: '01',
				created_by: 1,
				updated_by: 1,
				created_at: '2020-11-29T09:31:39.362Z',
				updated_at: '2020-12-01T07:25:21.404Z',
				project: 1,
			},
			reference_jobs: [],
			statuses: [
				{
					id: 155,
					object: 5465,
					date: '2020-11-30T21:49:39.351Z',
					user: 1,
					status: 1,
					created_by: null,
					updated_by: null,
					created_at: '2020-11-30T21:49:39.936Z',
					updated_at: '2020-11-30T21:49:40.141Z',
				},
			],
		},
		{
			id: 5102,
			area: null,
			room: null,
			object_finish_type: null,
			object_type: null,
			created_by: null,
			updated_by: null,
			created_at: '2020-11-30T20:43:43.215Z',
			updated_at: '2020-11-30T22:16:48.978Z',
			volume: 0.9256,
			running_meter: null,
			vertical: 'V',
			revit_id: 32770058,
			bim_model: null,
			project: {
				id: 1,
				name: 'Brama Oławska',
				webcon_code: null,
				model_urn: null,
				created_by: 1,
				updated_by: 1,
				created_at: '2020-11-29T09:28:08.251Z',
				updated_at: '2020-12-01T07:25:22.214Z',
				start_day: 2716,
			},
			term: null,
			VCF_Realisation: 'Rectangular column',
			rotation_day: null,
			level: {
				id: 10,
				name: 'L06',
				created_by: 1,
				updated_by: 1,
				created_at: '2020-11-29T09:30:45.032Z',
				updated_at: '2020-12-01T07:25:21.510Z',
				project: 1,
			},
			crane: {
				id: 1,
				name: '01',
				created_by: 1,
				updated_by: 1,
				created_at: '2020-11-29T09:31:39.362Z',
				updated_at: '2020-12-01T07:25:21.404Z',
				project: 1,
			},
			reference_jobs: [],
			statuses: [],
		},
		{
			id: 5374,
			area: null,
			room: null,
			object_finish_type: null,
			object_type: null,
			created_by: null,
			updated_by: null,
			created_at: '2020-11-30T20:44:20.218Z',
			updated_at: '2020-11-30T22:17:52.963Z',
			volume: 2.7792,
			running_meter: null,
			vertical: 'V',
			revit_id: 32770353,
			bim_model: null,
			project: {
				id: 1,
				name: 'Brama Oławska',
				webcon_code: null,
				model_urn: null,
				created_by: 1,
				updated_by: 1,
				created_at: '2020-11-29T09:28:08.251Z',
				updated_at: '2020-12-01T07:25:22.214Z',
				start_day: 2716,
			},
			term: null,
			VCF_Realisation: 'Rectangular high column',
			rotation_day: {
				id: 97,
				date_id: 2760,
				project: 1,
				rotation_day: 45,
				created_by: null,
				updated_by: null,
				created_at: '2020-11-29T12:00:00.944Z',
				updated_at: '2020-12-01T07:38:23.231Z',
			},
			level: {
				id: 5,
				name: 'L01',
				created_by: 1,
				updated_by: 1,
				created_at: '2020-11-29T09:29:28.191Z',
				updated_at: '2020-12-01T07:25:21.510Z',
				project: 1,
			},
			crane: {
				id: 2,
				name: '02',
				created_by: 1,
				updated_by: 1,
				created_at: '2020-11-29T09:32:01.342Z',
				updated_at: '2020-12-01T07:25:21.404Z',
				project: 1,
			},
			reference_jobs: [],
			statuses: [],
		},
		{
			id: 4957,
			area: 2.736888478,
			room: null,
			object_finish_type: null,
			object_type: null,
			created_by: null,
			updated_by: null,
			created_at: '2020-11-30T20:43:23.276Z',
			updated_at: '2020-11-30T22:16:11.218Z',
			volume: 0.547377696,
			running_meter: null,
			vertical: 'H',
			revit_id: 32769888,
			bim_model: null,
			project: {
				id: 1,
				name: 'Brama Oławska',
				webcon_code: null,
				model_urn: null,
				created_by: 1,
				updated_by: 1,
				created_at: '2020-11-29T09:28:08.251Z',
				updated_at: '2020-12-01T07:25:22.214Z',
				start_day: 2716,
			},
			term: null,
			VCF_Realisation: 'Cast in situ slab',
			rotation_day: null,
			level: {
				id: 6,
				name: 'L02',
				created_by: 1,
				updated_by: 1,
				created_at: '2020-11-29T09:29:40.911Z',
				updated_at: '2020-12-01T07:25:21.510Z',
				project: 1,
			},
			crane: {
				id: 2,
				name: '02',
				created_by: 1,
				updated_by: 1,
				created_at: '2020-11-29T09:32:01.342Z',
				updated_at: '2020-12-01T07:25:21.404Z',
				project: 1,
			},
			reference_jobs: [],
			statuses: [],
		},
	];

	test('should generate proper parameters', () => {
		expect(groupBy(testData, ['crane.id', 'level.id', 'vertical'], ['byCrane', 'byLevel'])).toEqual({
			byCrane: {},
		});
	});
});
